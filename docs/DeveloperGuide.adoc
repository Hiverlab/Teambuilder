= TeamBuilder - Developer Guide
:site-section: DeveloperGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: src/assets/img
:stylesDir: stylesheets
:xrefstyle: full
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:warning-caption: :warning:
:experimental:
endif::[]
:repoURL: https://github.com/geezlouisee/bridgewater/main/tree/master
:bl: pass:[ +]

By: `Hiverlab Pte Ltd`      Since: `July 2019`      Licence: `MIT`

[.text-justify]
== Introduction
This Bridgewater tool _TeamBuilder_ was inspired by office tools adopted by Bridgewater Associates, one of the largest
investment management companies in America. Their CEO and founder, Ray Dalio, heavily emphasises on radical transparency
and algorithmic decision when it comes to managing a company.

One such tool that inspired us was the “Baseball cards”, a profiling tool that highlights a person’s strengths and their
characteristics. Along with a “combiner” feature, the tool will be able to compare and analyse the key characteristics
of each employee. It will help you to find the right person for the job based on their strengths.

Thus, with that, _TeamBuilder_ was created with the aim of improving the allocation of human resources to projects at
Hiverlab Pte Ltd. With the Gallup StrengthsFinder test in mind, _TeamBuilder_ aims to delegate desirable team members in
an efficient manner by leveraging on one another’s strengths.

This developer guide specifies the design and implementation of _TeamBuilder_. The intended audience of this document is
the developers, designers and software testers of our application.

[.text-justify]
== Setting Up

Before starting, ensure that you have the following installed:

. Node.js
. Npm (Node Package Manager)
. Then, download the project (from Github & link to the Firebase console in your computer)

Else, please follow the steps below:

=== Verifying the setup

. ng serve(?) and see if everything is okay

==== Updating documentation to match your fork

After forking the repo, the documentation will still refer to the `geezlouisee\bridgewater` repo.

If you plan to develop this fork as a separate product (i.e. instead of contributing to `TeamBuilder`), you should do the following:

. Replace the URL in the attribute `[fuchsia]#repoURL#` in link:{repoURL}/docs/DeveloperGuide.adoc[`[blue]#DeveloperGuide.adoc#`]
and link:{repoURL}/docs/UserGuide.adoc[`[blue]#UserGuide.adoc#`] with the URL of your fork.

=== Angular

=== Firebase

. Install the Firebase CLI
. Initialise your project
. Deploy to your site

For more information about setting up Firebase and connecting it to the project on the Firebase console, you may want to
refer to Firebase’s documentation https://firebase.google.com/docs/hosting/quickstart[here].


<<<
[.text-justify]
== Design

_TeamBuilder_ is designed to be a web app, implemented using an Angular framework. More details on its implementation will
be provided in Chapter 4.

[[Design-Architecture]]
=== Architecture

As Angular is largely based on the Model-View-Controller (MVC) framework, this makes it convenient for front-end testing
for _TeamBuilder_ .

.Architecture Diagram of TeamBuilder
image::architecture.png[width="600"]

The *_Architecture Diagram_* above explains the high-level design of _TeamBuilder_.
Given below is a quick overview of each component.

* *Model*: Corresponds to all data-related logic that the user works with.
* *View*: Used for the UI logic of the application. Includes the html/css/ts files.
* *Controller*: Acts as an interface between Model and View components, it manipulates data using the Model component
and interact with the Views to render the final output.

Additionally, due to the Angular framework, the architecture of TeamBuilder is also largely component-based.
Each component consists of some metadata, an HTML template and logic - all of which controls a patch of screen called a
view.

<<<
[.text-justify]
== Implementation

TeamBuilder was made using HTML/CSS/TS and is largely implemented based on the Angular framework.
This framework was chosen to make the code cleaner, as compared to not using any Javascript frameworks at all.

This section describes in detail the implementation of certain features in _TeamBuilder_.

=== HTML/CSS
TeamBuilder was made using a free template that is already supported by Angular by Creative Tim.
Their source code can be found https://demos.creative-tim.com/paper-kit-2-angular/#/home[here].

=== Angular/TS

=== Firebase

=== Combiner

<<<
== Documentation
{bl}
We use asciidoc for writing documentation.

[NOTE]
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility in formatting.

{bl}
[.text-justify]
=== Editing Documentation
{bl}
See <<UsingGradle#rendering-asciidoc-files, [blue]#UsingGradle.adoc#>> to learn how to render `[fuchsia]#.adoc#` files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your `[fuchsia]#.adoc#` files in real-time.

{bl}

=== Publishing Documentation
{bl}
See <<UsingTravis#deploying-github-pages, [blue]#UsingTravis.adoc#>> to learn how to deploy GitHub Pages using Travis.

{bl}

=== Converting Documentation to PDF format
{bl}
We use https://www.google.com/chrome/browser/desktop[[blue]#Google Chrome#] for converting documentation to PDF format, as Chrome's PDF engine preserves hyperlinks used in webpages.

Here are the steps to convert the project documentation files to PDF format.

.  Follow the instructions in <<UsingGradle#rendering-asciidoc-files, [blue]#UsingGradle.adoc#>> to convert the AsciiDoc files in the `[fuchsia]#docs/#` directory to HTML format.
.  Go to your generated HTML files in the `[fuchsia]#build/docs#` folder, right click on them and select menu:Open With[Google Chrome].
.  Within Chrome, click on the btn:[Print] option in Chrome's menu.
.  Set the destination to btn:[Save as PDF], then click btn:[Save] to save a copy of the file in PDF format. For best results, use the settings indicated in the screenshot below.

.Saving documentation as PDF files in Chrome
.Saving project documentation files to PDF format
image::chrome_save_as_pdf.png[width="300"]

{bl}

<<<
[[Docs-SiteWideDocSettings]]
=== Site-wide Documentation Settings
{bl}
The link:{repoURL}/build.gradle[`[blue]#build.gradle#`] file specifies some project-specific https://asciidoctor.org/docs/user-manual/#attributes[ [blue]_asciidoc attributes_] which affects how all documentation files within this project are rendered.

[TIP]
Attributes left unset in the `[fuchsia]#build.gradle#` file will use their *default value*, if any.

{bl}

[cols="1,2a,1", options="header"]
.List of site-wide attributes
|===
|Attribute name |Description |Default value

|`[fuchsia]#site-name#`
|The name of the website.
If set, the name will be displayed near the top of the page.
|_not set_

|`[fuchsia]#site-githuburl#`
|URL to the site's repository on https://github.com[[blue]#GitHub#].
Setting this will add a "View on GitHub" link in the navigation bar.
|_not set_

|`[fuchsia]#site-seedu#`
|Define this attribute if the project is an official SE-EDU project.
This will render the SE-EDU navigation bar at the top of the page, and add some SE-EDU-specific navigation items.
|_not set_

|===

<<<
[[Docs-PerFileDocSettings]]
=== Per-file Documentation Settings
{bl}
Each `[fuchsia]#.adoc#` file may also specify some file-specific https://asciidoctor.org/docs/user-manual/#attributes[[blue]_asciidoc attributes_] which affects how the file is rendered.

Asciidoctor's https://asciidoctor.org/docs/user-manual/#builtin-attributes[[blue]_built-in attributes_] may be specified and used as well.

[TIP]
Attributes left unset in `[fuchsia]#.adoc#` files will use their *default value*, if any.

{bl}

[cols="1,2a,1", options="header"]
.List of per-file attributes, excluding Asciidoctor's built-in attributes
|===
|Attribute name |Description |Default value

|`[fuchsia]#site-section#`
|Site section that the document belongs to.
This will cause the associated item in the navigation bar to be highlighted.
One of: `[fuchsia]#UserGuide#`, `[fuchsia]#DeveloperGuide#`, ``[fuchsia]#LearningOutcomes#``{asterisk}, `[fuchsia]#AboutUs#`, `[fuchsia]#ContactUs#`

_{asterisk} Official SE-EDU projects only_
|_not set_

|`[fuchsia]#no-site-header#`
|Set this attribute to remove the site navigation bar.
|_not set_

|===

<<<
=== Site Template
{bl}
The files in link:{repoURL}/docs/stylesheets[`[blue]#docs/stylesheets#`] are the https://developer.mozilla.org/en-US/docs/Web/CSS[[blue]#CSS stylesheets#] of the site.
You can modify them to change some properties of the site's design.

The files in link:{repoURL}/docs/templates[`[blue]#docs/templates#`] controls the rendering of `[fuchsia]#.adoc#` files into HTML5.
These template files are written in a mixture of https://www.ruby-lang.org[[blue]#Ruby#] and http://slim-lang.com[[blue]#Slim#].

[WARNING]
====
Modifying the template files in link:{repoURL}/docs/templates[`[blue]#docs/templates#`] requires some knowledge and experience with Ruby and Asciidoctor's API.
You should only modify them if you need greater control over the site's layout than what stylesheets can provide.
====

{bl}

<<<
[.text-justify]
[[Testing]]
== Testing

{bl}

=== Running Tests
{bl}
There are three ways to run tests.

[TIP]
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to platform/resolution-specific idiosyncrasies.

{bl}
*Method 1: Using IntelliJ JUnit test runner*

* To run all tests, right-click on the `[fuchsia]#src/test/java`# folder and choose `[fuchsia]#Run 'All Tests'#`.
* To run a subset of tests, you can right-click on a test package, test class, or a test and choose `[fuchsia]#Run 'ABC'#`.

{bl}
*Method 2: Using Gradle*

* Open a console and run the command `[fuchsia]#gradlew clean allTests#` (Mac/Linux: `[fuchsia]#./gradlew clean allTests#`).

[NOTE]
See <<UsingGradle#, [blue]#UsingGradle.adoc#>> for more info on how to run tests using Gradle.

{bl}
*Method 3: Using Gradle (headless)*

Thanks to the https://github.com/TestFX/TestFX[[blue]#TestFX#] library we use, our GUI tests can be run in the _headless_ mode. In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the Computer while the tests are running.

To run tests in headless mode, open a console and run the command `[fuchsia]#gradlew clean headless allTests#` (Mac/Linux: `./[fuchsia]#gradlew clean headless allTests#`).

<<<
=== Types of tests
{bl}
We have two types of tests:

.  *GUI Tests* - These are tests involving the GUI. They include,
.. _System Tests_ that test the entire application by simulating user actions on the GUI. These are in the `[fuchsia]#systemtests#` package.
.. _Unit tests_ that test the individual components. These are in `[fuchsia]#seedu.finance.ui#` package.
.  *Non-GUI Tests* - These are tests not involving the GUI. They include,
..  _Unit tests_ targeting the lowest level methods/classes. +
[navy]#e.g.# `[fuchsia]#seedu.finance.commons.StringUtilTest#`
..  _Integration tests_ that are checking the integration of multiple code units (those code units are assumed to be working). +
[navy]#e.g.# `[fuchsia]#seedu.finance.storage.StorageManagerTest#`
..  Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected together. +
[navy]#e.g.# `[fuchsia]#seedu.finance.logic.LogicManagerTest#`

{bl}

=== Troubleshooting Testing
{bl}
**Problem: `[fuchsia]#HelpWindowTest#` fails with a `[fuchsia]#NullPointerException#`.**

* Reason: One of its dependencies, `[fuchsia]#HelpWindow.html#` in `[fuchsia]#src/main/resources/docs#` is missing.
* Solution: Execute Gradle task `[fuchsia]#processResources#`.

{bl}

<<<
[.text-justify]
== Dev Ops

{bl}

=== Build Automation
{bl}
See <<UsingGradle#, [blue]#UsingGradle.adoc#>> to learn how to use Gradle for build automation.

{bl}

=== Continuous Integration
{bl}
We use https://travis-ci.org[[blue]#Travis CI#] and https://www.appveyor.com[[blue]#AppVeyor#] to perform _Continuous Integration_ on our projects. See <<UsingTravis#, [blue]#UsingTravis.adoc#>> and <<UsingAppVeyor#, [blue]#UsingAppVeyor.adoc#>> for more details.

{bl}

=== Coverage Reporting
{bl}
We use https://coveralls.io[[blue]#Coveralls#] to track the code coverage of our projects. See <<UsingCoveralls#, [blue]#UsingCoveralls.adoc#>> for more details.

{bl}

=== Documentation Previews
{bl}
When a pull request has changes to asciidoc files, you can use https://www.netlify.com[[blue]#Netlify#] to see a preview of how the HTML version of those asciidoc files will look like when the pull request is merged. See <<UsingNetlify#, [blue]#UsingNetlify.adoc#>> for more details.

{bl}

<<<
=== Making a Release
{bl}
Here are the steps to create a new release.

.  Update the version number in link:{repoURL}/src/main/java/seedu/address/MainApp.java[`[blue]#MainApp.java#`].
.  Generate a JAR file <<UsingGradle#creating-the-jar-file, [blue]#using Gradle#>>.
.  Tag the repo with the version number. [navy]#e.g.# `[fuchsia]#v0.1#`
.  https://help.github.com/articles/creating-releases[[blue]#Create a new release using GitHub#] and upload the JAR file you created.

{bl}

=== Managing Dependencies
{bl}
A project often depends on third-party libraries. For example, _In-Credit-Ble_ depends on the https://github.com/FasterXML/jackson[[blue]#Jackson library#] for JSON parsing. Managing these _dependencies_ can be automated using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives:

[loweralpha]
. Include those libraries in the repo (this bloats the repo size)
. Require developers to download those libraries manually (this creates extra work for developers)

{bl}

[[GetStartedProgramming]]
<<<
[.text-justify]
// tag::appendixA[]
[appendix]
== Product Scope
{bl}
*Target user profile*:

* has a need to manage a significant amount of expenses/finances
* has a need to be more aware of his/her spending habits/patterns
* can type fast
* prefers typing over mouse input
* is reasonably comfortable using CLI applications


{bl}
*Value proposition*: Manage expenses faster than a typical mouse/GUI driven application

// end::appendixA[]

{bl}

// tag::appendixB[]
[appendix]
<<<
[.text-justify]
== User Stories
{bl}
Priorities: High (must have) - `* * \*`, Medium (nice to have) - `* \*`, Low (unlikely to have) - `*`

{bl}

[width="100%",cols="20%,<20%,<25%,<35%",options="header",]
|=======================================================================
|Priority |As a ... |I want to ... |So that I can...
|`* * *` |new user |see usage instructions |refer to it when I forget how to use the application

|`* * *` |user |have a record of my recent expenses (day, week, month, category) |be more aware of where I am spending my money

|`* * *` |user |add a new entry |

|`* * *` |user |delete an entry |remove an entry that is no longer needed anymore

|`* * *` |user |categorise my expenses |be aware of what I am spending most of my money on

|`* * *` |user |be able to set a budget (a total for the month and for which category) |be more thrifty in terms of my expenditure

|`* *` |user |summarise my daily spending in a pictorial form |easily see how on track I am in adhering to my budget

|`* *` |user |locate a specific entry easily |recall how much I spent

|`* *` |user | save my data |refer to it when I use the application next time

|`* *` |user | sort my expenses in terms of amount | be aware of what costs the most

|`* *` |user |set daily budgets |limit the amount I spend each day

|`*` |user |analyse my spending habits/patterns |derive a savings plan and better plan my expenses

|`*` |spendthrift user |receive tips to be a better saver |be more aware of different ways to keep within my budget

|`*` |IT savvy user |categorise my expenses based on the different methods of payment |automatically track my cashless expenditures as well as credit card transactions
|=======================================================================
// end::appendixB[]

{bl}

// tag::appendixC[]
[appendix]
<<<
[.text-justify]
== Use Cases
{bl}
(For all use cases below, the *System* is `[fuchsia]#In-Credit-Ble#` and the *User* is the `[fuchsia]#user#`, unless specified otherwise)

{bl}

[discrete]
=== Use case: Setting a budget for the month

*MSS*

1.  _User_ requests to set a budget for the current month
2.  _System_ displays current budget amount for the month
+
Use case ends.

*Extensions*

[none]
* 2a. With addition of expense entries, _System_ updates the remaining amount in the current month's budget
+
Use case ends.

{bl}

[discrete]
=== Use case: Allocate budget to a category

*MSS*

1.  _User_ requests to list summary of budget based on category
2.  _System_ shows a summary of budget based on category
3.  _User_ requests to allocate a certain amount to a category
4.  _System_ allocates the user input amount to the given category
+
Use case ends.

{bl}

<<<
[discrete]
=== Use case: Increasing budget for the month

*MSS*

1.  _User_ requests to list entries
2.  _System_ shows a list of expense entries
3.  _User_ requests to increase budget for the month (can be associated with a category)
4.  _System_ will increase the budget for the month (that is associated with category input)
+
Use case ends.

{bl}

[discrete]
=== Use case: Add expense entry

*MSS*

1.  _User_ requests to list entries
2.  _System_ shows a list of expense entries
3.  _User_ requests to add a specific expense entry in the list
4.  _System_ adds the expense entry
+
Use case ends.

*Extensions*

[none]
* 3a. Some fields are missing.
+
[none]
** 3a1. _System_ shows an error message.
+
Use case resumes at step 2.

{bl}

<<<
[discrete]
=== Use case: Editing an expense entry

*MSS*

1.  _User_ requests to list expense entries
2.  _System_ shows a list of expense entries
3.  _User_ requests to edit a specific expense entry in the list
4.  _System_ updates the expense entry as well as the budget summary accordingly
+
Use case ends.

*Extensions*

[none]
* 2a. The list is empty.
+
Use case ends

[none]
* 3a. The given index is invalid.
+
[none]
** 3a1. _System_ shows an error message.
+
Use case resumes at step 2.
{bl}

[discrete]
=== Use case: Delete expense entry

*MSS*

1.  _User_ requests to list expense entries
2.  _System_ shows a list of expense entries
3.  _User_ requests to delete a specific expense entry in the list
4.  _System_ deletes the entry
+
Use case ends.

*Extensions*

[none]
* 2a. The list is empty.
+
Use case ends.

* 3a. The given index is invalid.
+
[none]
** 3a1. _System_ shows an error message.
+
Use case resumes at step 2.

<<<
[discrete]
=== Use case: Listing history of entered commands

*MSS*

1.  _User_ requests to list history of entered commands
2.  _System_ shows history of commands in reverse chronological order (latest command first)
+
Use case ends.

*Extensions*

[none]
* 1a. There was no entered commands
+
Use case ends.

{bl}

[discrete]
=== Use case: User wants to undo previous command

*MSS*

1.  _User_ requests to undo previous command
2.  _System_ undo previous command and updates budget accordingly
+
Use case ends.

*Extensions*

[none]
* 1a. There was no previous command
+
Use case ends with message to let _User_ know there is no previous command

{bl}

<<<
[discrete]
=== Use case: User wants to redo previous undone command

*MSS*

1.  _User_ requests to redo previous undone command
2.  _System_ redo previous undone command and updates budget accordingly
+
Use case ends.

*Extensions*

[none]
* 1a. There was no previous undone command
+
Use case ends with message to let _User_ know there is no previous undone command

{bl}

[discrete]
=== Use case: User wants to clear all entries

*MSS*

1. _User_ requests to clear all entries
2. _System_ clears all entries and updates the budget accordingly
+
Use case ends.

*Extensions*

[none]
* 1a. There are no entries in the _System_
+
Use case ends with message to let _User_ know there are no entries in _System_

// end::appendixC[]

{bl}

[appendix]
<<<
[.text-justify]
== Non Functional Requirements
{bl}

.  Should work on any <<mainstream-os,mainstream OS>> as long as it has Java `[fuchsia]#9#` or higher installed.
.  Should work on both 32-bit and 64-bit environments.
.  Should be able to hold up to 1000 expenditure records without a noticeable sluggishness in performance for typical usage.
.  A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.
.  The user interface should be intuitive and easy to use for people who are not IT-savvy.
.  Responses by the system should be fast (~5 seconds).

{bl}

[appendix]
<<<
[.text-justify]
== Glossary
{bl}

Amount::
The amount of money for expenditure and budget

Entry::
A listed item/activity tracked by the application.  It generally consists of the name, amount and date along with a
category tag (if specified)

[[mainstream-os]] Mainstream OS::
Windows, Linux, Unix, OS-X

Records::
The list of all entries stored in the application

{bl}

<<<
[appendix]
[.text-justify]
== Product Survey
{bl}
*[fuchsia]#Monefy - Money Manager#*

Author: Aimbity AS

Pros:

* Interface is easy to use
* Able to track expenses and income over various periods of time
* Free

Cons:

* Unable to synchronise and restore or backup data between devices
* Do not have an auto-income function
* Do not have an option for reminder
* Do not have a feature for recurrent spending

*[fuchsia]#Money Lover: Expense Tracker & Budget Planner#*

{bl}
Author: Finsify

Pros:

* Allows setting of recurring payments
* Able to see what expenses add up to in the forthcoming months
* Able to sync across phone and computer
* Able to download to own excel worksheet

Cons:

* Need to make a budget for every wallet
* Unable to choose multiple categories for a budget
* Unable to edit a transaction
* Budgets are based per account

{bl}
*[fuchsia]#Seedly - Personal Finance App#*

Author: Seedly Pte Ltd

Pros:

* Visually appealing
* Able to import transactions from ibanking accounts and allow manual inputs for cash transactions
* Pie charts give a visual illustration on expenditure
* Search function present

Cons:

* Sync feature takes a long time
* Crash every now and then
* Categories are hard to identify in pie charts
* Not smart enough to recognise similar entries
* Summary presented is confusing
* Unable to add in sub-categories to further pinpoint area of spending
